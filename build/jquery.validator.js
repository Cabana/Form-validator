var split;
split=split||function(a){var b=String.prototype.split,n=/()??/.exec("")[1]===a,c;c=function(e,d,c){if("[object RegExp]"!==Object.prototype.toString.call(d))return b.call(e,d,c);var g=[],l=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.extended?"x":"")+(d.sticky?"y":""),k=0;d=RegExp(d.source,l+"g");var q,h,r;e+="";n||(q=RegExp("^"+d.source+"$(?!\\s)",l));for(c=c===a?4294967295:c>>>0;h=d.exec(e);){l=h.index+h[0].length;if(l>k&&(g.push(e.slice(k,h.index)),!n&&1<h.length&&h[0].replace(q,function(){for(var f=1;f<
arguments.length-2;f++)arguments[f]===a&&(h[f]=a)}),1<h.length&&h.index<e.length&&Array.prototype.push.apply(g,h.slice(1)),r=h[0].length,k=l,g.length>=c))break;d.lastIndex===h.index&&d.lastIndex++}k===e.length?(r||!d.test(""))&&g.push(""):g.push(e.slice(k));return g.length>c?g.slice(0,c):g};String.prototype.split=function(b,d){return c(this,b,d)};return c}();
(function(){Array.prototype.clean=function(a){var b;for(b=0;b<this.length;)this[b]===a&&(this.splice(b,1),b--),b++;return this};String.prototype.wrapInBraces=function(){return this.replace(/^/,"{").replace(/$/,"}")};String.prototype.replaceSquareBracketsWithBraces=function(){return this.replace(/\[/g,"{").replace(/\]/g,"}")};String.prototype.removeWhitespace=function(){return this.replace(/\s+/g,"")};this.Parser=function(){function a(b){this.defaults=b}a.prototype.parse=function(b){var a;a={};if(""===
b)return a;b=this._prepareString(b);return this._toJSON(b)};a.prototype.addDefaultValue=function(b,a){this.defaults||(this.defaults={});return this.defaults[b]=a};a.prototype._prepareString=function(b){b=b.removeWhitespace();this.defaults&&(b=this._applyOptionValues(b));b=this._setUndefinedValues(b);return this._wrapWordsInQuotes(b)};a.prototype._applyOptionValues=function(b){var a,c,e,d,m;c="";b=this._splitIntoWords(b);a=d=0;for(m=b.length;d<m;a=++d)e=b[a],a=b[a+1],this.defaults[e]&&":"!==a&&(e+=
":"+this.defaults[e]),c+=e;return c};a.prototype._setUndefinedValues=function(b){var a,c,e,d,m,g;e=this._splitIntoWords(b);a=m=0;for(g=e.length;m<g;a=++m)if(d=e[a],b=e[a+1],c=e[a-1],/\]+/.test(b)&&":"!==c||","===b||void 0===b&&!/\]+/.test(d))e[a]+=":undefined";b=e.join("");a="";d=b.split(/(\[|,|\])/);c=0;for(e=d.length;c<e;c++)b=d[c],/.*:.*:.*/.test(b)&&(b=b.replace(":undefined","")),a+=b;return a};a.prototype._splitIntoWords=function(b){return split(b,/(:\[?|\]+,?|,)/).clean("")};a.prototype._wrapWordsInQuotes=
function(b){var a,c,e,d;a=this._splitIntoWords(b);b=e=0;for(d=a.length;e<d;b=++e)c=a[b],":"===c||/\]+/.test(c)||(":["===c||","===c)||(/^\d+$/.test(c)?a[b]=parseInt(c):a[b]="true"===c?!0:"false"===c?!1:'"'+c+'"');return a.join("")};a.prototype._toJSON=function(a){/\.*:\.*/.test(a)||(a+=':"undefined"');a=a.replaceSquareBracketsWithBraces().wrapInBraces();a=a.replace(/\\/g,"\\\\");return JSON.parse(a)};return a}()}).call(this);
(function(){var a,b,n,c,e,d,m,g,l,k=[].indexOf||function(a){for(var f=0,b=this.length;f<b;f++)if(f in this&&this[f]===a)return f;return-1},q={}.hasOwnProperty,h=function(a,f){function b(){this.constructor=a}for(var p in f)q.call(f,p)&&(a[p]=f[p]);b.prototype=f.prototype;a.prototype=new b;a.__super__=f.prototype;return a};d={};Object.keys||(Object.keys=function(a){var f,b;f=[];b=void 0;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&f.push(b);return f});String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+
this.slice(1)};m=function(a){switch(a.length){case 0:a="";break;case 1:a=a[0];break;case 2:a=a[0]+" and "+a[1];break;default:a=a.slice(0,-1).join(", ")+", and "+a[a.length-1]}return a};b=function(){function a(){this.errors=[]}a.prototype.add=function(a){var b,p,d,c;if(a){if("string"===typeof a)return this.errors.push(a);c=[];p=0;for(d=a.length;p<d;p++)b=a[p],c.push(this.errors.push(b));return c}};a.prototype.none=function(){return 0===this.errors.length?!0:!1};a.prototype.alwaysReturn=function(a){return this.none=
function(){return a}};a.prototype.fullMessages=function(){return m(this.errors).toLowerCase().capitalize()};a.prototype.all=function(){return this.errors};return a}();c=function(){function a(f){this.input=f;this.customMessage=this.input.getAttribute("data-custom-error-message")}a.prototype.setupErrorMessage=function(a){return this.input.setAttribute("data-error-message",this.customMessage||a)};a.prototype.resetErrorMessages=function(){return this.input.removeAttribute("data-error-message")};a.prototype.validations=
function(){return this.input.getAttribute("data-validation")};a.prototype.asHtmlNode=function(){return this.input};return a}();n=function(){function a(f,b,d){this.length=f;this.min=b;this.max=d}a.prototype.validate=function(){var a,b,d;if(this.max&&this.min&&(a=this.length,0>k.call(function(){d=[];for(var a=b=this.min,f=this.max;b<=f?a<=f:a>=f;b<=f?a++:a--)d.push(a);return d}.apply(this),a)))return this.mixedMessage();if(this.min&&this.length<this.min)return this.tooShortMessage();if(this.max&&this.length>
this.max)return this.tooLongMessage()};return a}();a=function(a){function f(){return g=f.__super__.constructor.apply(this,arguments)}h(f,a);f.prototype.mixedMessage=function(){return"Value most be at least "+this.min+" and maximum "+this.max+" characters long"};f.prototype.tooShortMessage=function(){return"Value most be at least "+this.min};f.prototype.tooLongMessage=function(){return"Value can't be longer than "+this.max};return f}(n);e=function(a){function f(){return l=f.__super__.constructor.apply(this,
arguments)}h(f,a);f.prototype.mixedMessage=function(){return"Can't contain less than "+this.min+" or more than "+this.max+" words"};f.prototype.tooShortMessage=function(){return"Can't contain less than "+this.min+" words"};f.prototype.tooLongMessage=function(){return"Can't contain more than "+this.max+" words"};return f}(n);this.FormValidator=function(){function g(){var a;a=new Parser;a.addDefaultValue("required",!0);a.addDefaultValue("allowEmpty",!0);this.parser=a;this._setupBuiltInValidations()}
g.prototype.defineValidation=function(a,b,d){return this._validations[a]={validationHandler:b,errorMessage:d}};g.prototype.validateForm=function(a){var b,d,c,g;b=a.querySelectorAll("[data-validation]");d=[];c=0;for(g=b.length;c<g;c++)a=b[c],d.push(this.validateInput(a));return 0<=k.call(d,!1)?!1:!0};g.prototype.validateInput=function(a){var g;a=new c(a);g=this._generateValidations(a.validations());d=new b;this._performBuiltinValidations(a.asHtmlNode(),g);this._performFormatValidation(a.asHtmlNode(),
g.format);a.resetErrorMessages();if(d.none())return!0;a.setupErrorMessage(d.fullMessages());return!1};g.prototype._validations={};g.prototype._performFormatValidation=function(a,b){var g,c,e,l,k;if(b){l=Object.keys(b);k=[];c=0;for(e=l.length;c<e;c++)g=l[c],this._validations[g].validationHandler.test(a.value)?k.push(void 0):k.push(d.add(this._validations[g].errorMessage));return k}};g.prototype._performBuiltinValidations=function(a,b){var c,g,e,l,k;l=Object.keys(b);k=[];g=0;for(e=l.length;g<e;g++)c=
l[g],"format"!==c?(c=this._validations[c].validationHandler(a,b),k.push(d.add(c))):k.push(void 0);return k};g.prototype._setupBuiltInValidations=function(){var b=this;this.defineValidation("email",/.+@.+\..+/,"Email is invalid");this.defineValidation("tel",/\d{8}/,"Telephone number is invalid");this.defineValidation("number",/^\d+$/,"Invalid");this.defineValidation("required",function(a,b){if("checkbox"===a.getAttribute("type")){if(!a.checked)return"Most be checked"}else if(!/^.+$/.test(a.value))return"Can't be blank"});
this.defineValidation("length",function(b,c){return(new a(b.value.length,c.length.min,c.length.max)).validate()});this.defineValidation("wordCount",function(a,b){var c;c=""===a.value?c=0:a.value.split(/[ ]+/).length;return(new e(c,b.wordCount.min,b.wordCount.max)).validate()});this.defineValidation("allowEmpty",function(a,c){return b._alwaysValidIf(""===a.value)});this.defineValidation("onlyIfChecked",function(a,c){return b._alwaysValidIf(!document.getElementById(c.onlyIfChecked).checked)});return this.defineValidation("onlyIfEmpty",
function(a,c){return b._alwaysValidIf(/.+/.test(document.getElementById(c.onlyIfEmpty).value))})};g.prototype._alwaysValidIf=function(a){if(a)return d.alwaysReturn([])};g.prototype._generateValidations=function(a){return this.parser.parse(a)};return g}()}).call(this);
(function(a,b,n,c){function e(b,c){this.element=b;this.options=a.extend({},m,c);this._defaults=m;this._name=d;this.init()}var d="validate",m={validator:new FormValidator,onBlur:!1,selectorClasses:{field:".field"},errorClasses:{input:"input-with-error",field:"field-with-error",form:"form-with-error"},beforeValidation:function(){},afterValidation:function(){},ifValid:function(){},ifInvalid:function(){}};e.prototype={init:function(){var b=this,c=b.element,d=b.options,e=d.validator,h=!0;c.setAttribute("novalidate",
"true");a(n).on("keydown",function(b){var c;c=13===b.keyCode?!0:void 0;c&&(b=b.target.nodeName.toLowerCase(),c="input"==b||"textarea"==b||"select"==b?!0:!1);c&&a('input[type="submit"]:not([data-skip-validation])').trigger("click")});a("input[data-skip-validation]").hover(function(){h=!1},function(){h=!0}).on("click",function(a){h&&a.preventDefault()});a(c).on("submit",function(m){h&&(d.beforeValidation(),e.validateForm(c)?d.ifValid():(m.preventDefault(),d.ifInvalid()),b.setErrorClasses(c,d),b.setErrorMessages(c,
d),a(".input-with-error").first().focus(),d.afterValidation())});if(d.onBlur)a(c).find("[data-validation]").on("blur",function(a){e.validateInput(this);b.setErrorClasses(c,d);b.setErrorMessages(c,d)})},setErrorClasses:function(b,c){a("."+c.errorClasses.input).removeClass(c.errorClasses.input);a("."+c.errorClasses.field).removeClass(c.errorClasses.field);a("."+c.errorClasses.form).removeClass(c.errorClasses.form);a(b).find("[data-error-message]").each(function(){var d=a(this),e=d.parents(c.selectorClasses.field),
h=a(b);d.addClass(c.errorClasses.input);e.addClass(c.errorClasses.field);h.addClass(c.errorClasses.form)})},setErrorMessages:function(b,c){a(b).find("small.error-message").remove();a(b).find("[data-error-message]").each(function(){var b=this.dataset.errorMessage;a(this).after('<small class="error-message">'+b+"</small>")})}};a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new e(this,b))})}})(jQuery,window,document);
